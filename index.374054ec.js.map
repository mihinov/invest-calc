{"mappings":"AAAA,MAAMA,EAAiBC,SAASC,cAAc,gBACxCC,EAAkBF,SAASC,cAAc,iBACzCE,EAAyBH,SAASC,cAAc,wBAChDG,EAAsBJ,SAASC,cAAc,sBAC7CI,EAAiBL,SAASC,cAAc,gBAE9C,SAASK,EAASC,GAEjB,IAAIC,EAAS,GAEb,GAAY,OAHZD,EAAME,KAAKC,MAAMH,IAIhB,MAAO,QAGR,KAAOA,EAAM,KAAM,CAClB,IAAII,EAAWJ,EAAM,IAEJ,IAAbI,IACHA,EAAW,OAGRA,EAAW,KAAOA,GAAY,KACjCA,EAAW,IAAIA,KAGZA,EAAW,GAAKA,GAAY,KAC/BA,EAAW,KAAKA,KAGjBJ,EAAME,KAAKG,MAAML,EAAM,KACvBC,EAAS,GAAGG,KAAYH,G,CAKzB,OAFAA,EAAS,GAAGD,KAAOC,IAEZA,C,CAsBR,SAASK,IAER,GAC2B,MAA1BX,EAAgBY,OACiB,MAAjCX,EAAuBW,OACO,MAA9BV,EAAoBU,MAGpB,OADAT,EAAeU,UAAY,IACpB,EAGR,MAAMC,EAASC,OAAOf,EAAgBY,OAChCI,EAAuBD,OAAOd,EAAuBW,OAAS,IAC9DK,EAAoBF,OAAOb,EAAoBU,OAAS,IAExDM,EAAaX,KAAKC,MAAMM,EAASG,GACjCE,EAAiBZ,KAAKC,MAAmB,GAAbU,GAC5BE,EAAoBb,KAAKC,MAAMW,EAAiBH,GAC3BT,KAAKC,MAAMY,EAAoB,IAE1DjB,EAAekB,UAAY,2HAGgCjB,EAASc,wHAGXd,EAASe,0CAKlE,MAAMG,EAMP,UAA2BR,OAAEA,EAAME,qBAAEA,EAAoBC,kBAAEA,IAC1D,MAAMM,EAAkBhB,KAAKC,MAAMM,EAASG,EAAoB,IAChE,IAAIO,EAAUD,GAAmB,EAAIP,GACjCS,EAAgBlB,KAAKC,MAAMgB,EAAW,GAAMR,GAC5CU,EAAaH,EACbI,EAAWpB,KAAKC,MAAMkB,EAAaV,GAEvC,MAAMY,EAAY,CACjB,CAAEC,KAAM,E,WAAGH,E,SAAYC,E,QAAUH,E,cAASC,IAG3C,IAAK,IAAII,EAAO,EAAGJ,EAAgBX,EAAQe,IAC1CL,EAAUjB,KAAKC,OAAOgB,EAAUD,IAAoB,EAAIP,IACxDW,EAAWpB,KAAKC,MAAOgB,EAAWD,EAAkBM,GACpDJ,EAAgBlB,KAAKC,MAAMgB,EAAW,GAAMR,GAC5CU,GAAcH,EACdK,EAAUE,KAAK,C,KAAED,E,WAAMH,E,SAAYC,E,QAAUH,E,cAASC,IAGvD,OAAOG,C,CAzBWG,CAAkB,C,OAAEjB,E,qBAAQE,E,kBAAsBC,IAC9De,EA2BP,SAAqBV,GACpB,MAAMU,EAAYlC,SAASmC,cAAc,SACnCC,EAAYpC,SAASmC,cAAc,SACnCE,EAAmBrC,SAASmC,cAAc,OAEhDD,EAAUI,UAAUC,IAAI,SACxBL,EAAUX,UAAY,0PAYtB,IAAK,MAAMQ,KAAEA,EAAIH,WAAEA,EAAUC,SAAEA,EAAQH,QAAEA,EAAOC,cAAEA,KAAmBH,EACpEY,EAAUb,WAAa,6BAEfjB,EAASyB,wBACTzB,EAASsB,wBACTtB,EAASuB,wBACTvB,EAASoB,wBACTpB,EAASqB,6BAUlB,OALAO,EAAUM,YAAYJ,GAEtBC,EAAiBC,UAAUC,IAAI,iBAC/BF,EAAiBG,YAAYN,GAEtBG,C,CA9DWI,CAAYjB,GAE9BnB,EAAemC,YAAYN,E,CA+D5BrB,IAEAd,EAAe2C,iBAAiB,UAAWC,IAC1CA,EAAMC,iBAEN/B,GAAM","sources":["src/index.js"],"sourcesContent":["const formSalaryNode = document.querySelector('.form-salary');\nconst inputSalaryNode = document.querySelector('.input-salary');\nconst inputProfitabilityNode = document.querySelector('.input-profitability');\nconst inputSaveSalaryNode = document.querySelector('.input-save-salary');\nconst formOutputNode = document.querySelector('.form-output');\n\nfunction parseNum(num) {\n\tnum = Math.round(num);\n\tlet strNum = '';\n\n\tif (num === 1000) {\n\t\treturn '1 000';\n\t}\n\n\twhile (num > 1000) {\n\t\tlet numRight = num % 1000;\n\n\t\tif (numRight === 0) {\n\t\t\tnumRight = '000';\n\t\t}\n\n\t\tif (numRight < 100 && numRight >= 10) {\n\t\t\tnumRight = `0${numRight}`;\n\t\t}\n\n\t\tif (numRight > 0 && numRight <= 10) {\n\t\t\tnumRight = `00${numRight}`;\n\t\t}\n\n\t\tnum = Math.floor(num / 1000);\n\t\tstrNum = `${numRight} ${strNum}`;\n\t}\n\n\tstrNum = `${num} ${strNum}`;\n\n\treturn strNum;\n}\n\nfunction validateInput(event) {\n\tconst inputNode = event.target;\n\n\tif (!inputNode.checkValidity()) {\n\t\tconst num = Number(inputNode.value);\n\t\tconst min = Number(inputNode.min)\n\t\tconst max = Number(inputNode.max);\n\n\t\tconst distanceMax = Math.abs(num - min);\n\t\tconst distanceMin = Math.abs(num - max);\n\n\t\tif (distanceMax >= distanceMin) {\n\t\t\tinputNode.value = inputNode.max;\n\t\t} else {\n\t\t\tinputNode.value = inputNode.min;\n\t\t}\n\t}\n}\n\nfunction calc() {\n\n\tif (\n\t\tinputSalaryNode.value === '0' ||\n\t\tinputProfitabilityNode.value === '0' ||\n\t\tinputSaveSalaryNode.value === '0'\n\t) {\n\t\tformOutputNode.innerText = '';\n\t\treturn false;\n\t}\n\n\tconst salary = Number(inputSalaryNode.value);\n\tconst profitabilityPercent = Number(inputProfitabilityNode.value) / 100;\n\tconst saveSalaryPercent = Number(inputSaveSalaryNode.value) / 100;\n\n\tconst saveSalary = Math.round(salary * saveSalaryPercent); // Сколько отложили за месяц\n\tconst saveSalaryYear = Math.round(saveSalary * 12); // Сколько отложили за год\n\tconst passiveSalaryYear = Math.round(saveSalaryYear * profitabilityPercent); // Пассивный доход в год\n\tconst passiveSalaryMonth = Math.round(passiveSalaryYear / 12); // Пассивный доход в месяц\n\n\tformOutputNode.innerHTML = `\n\t\t<div class=\"info\">\n\t\t\t<div class=\"info__item\">\n\t\t\t\tОткладываем в месяц: <span class=\"white-space-nowrap\">${parseNum(saveSalary)}</span>\n\t\t\t</div>\n\t\t\t<div class=\"info__item\">\n\t\t\t\tОткладываем в год: <span class=\"white-space-nowrap\">${parseNum(saveSalaryYear)}</span>\n\t\t\t</div>\n\t\t</div>\n\t`;\n\n\tconst salaryArr = calcPassiveSalary({ salary, profitabilityPercent, saveSalaryPercent });\n\tconst tableNode = createTable(salaryArr);\n\n\tformOutputNode.appendChild(tableNode);\n}\n\nfunction calcPassiveSalary({ salary, profitabilityPercent, saveSalaryPercent }) {\n\tconst saveSalaryMonth = Math.round(salary * saveSalaryPercent * 12);\n\tlet capital = saveSalaryMonth * (1 + profitabilityPercent);\n\tlet passiveSalary = Math.round((capital / 12) * profitabilityPercent);\n\tlet postponned = saveSalaryMonth;\n\tlet percents = Math.round(postponned * profitabilityPercent);\n\n\tconst resultArr = [\n\t\t{ year: 1, postponned, percents, capital, passiveSalary }\n\t];\n\n\tfor (let year = 2; passiveSalary < salary; year++) {\n\t\tcapital = Math.round((capital + saveSalaryMonth) * (1 + profitabilityPercent));\n\t\tpercents = Math.round((capital - (saveSalaryMonth * year)));\n\t\tpassiveSalary = Math.round((capital / 12) * profitabilityPercent);\n\t\tpostponned += saveSalaryMonth;\n\t\tresultArr.push({ year, postponned, percents, capital, passiveSalary });\n\t}\n\n\treturn resultArr;\n}\n\nfunction createTable(salaryArr) {\n\tconst tableNode = document.createElement('table');\n\tconst tbodyNode = document.createElement('tbody');\n\tconst wrapperTableNode = document.createElement('div');\n\n\ttableNode.classList.add('table');\n\ttableNode.innerHTML = `\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th>Год</th>\n\t\t\t\t<th>Отложили <br> в <br>сумме</th>\n\t\t\t\t<th>Накапало<br> процентов</th>\n\t\t\t\t<th>Отложили <br>+<br> проценты</th>\n\t\t\t\t<th>Пассивный<br> доход</th>\n\t\t\t</tr>\n\t\t</thead>\n\t`;\n\n\tfor (const { year, postponned, percents, capital, passiveSalary } of salaryArr) {\n\t\ttbodyNode.innerHTML += `\n\t\t\t<tr>\n\t\t\t\t<td>${parseNum(year)}</td>\n\t\t\t\t<td>${parseNum(postponned)}</td>\n\t\t\t\t<td>${parseNum(percents)}</td>\n\t\t\t\t<td>${parseNum(capital)}</td>\n\t\t\t\t<td>${parseNum(passiveSalary)}</td>\n\t\t\t</tr>\n\t\t`;\n\t}\n\n\ttableNode.appendChild(tbodyNode);\n\n\twrapperTableNode.classList.add('table-wrapper');\n\twrapperTableNode.appendChild(tableNode);\n\n\treturn wrapperTableNode;\n}\n\ncalc();\n\nformSalaryNode.addEventListener('submit', (event) => {\n\tevent.preventDefault();\n\n\tcalc();\n});\n"],"names":["$35da740d59af89ba$var$formSalaryNode","document","querySelector","$35da740d59af89ba$var$inputSalaryNode","$35da740d59af89ba$var$inputProfitabilityNode","$35da740d59af89ba$var$inputSaveSalaryNode","$35da740d59af89ba$var$formOutputNode","$35da740d59af89ba$var$parseNum","num","strNum","Math","round","numRight","floor","$35da740d59af89ba$var$calc","value","innerText","salary","Number","profitabilityPercent","saveSalaryPercent","saveSalary","saveSalaryYear","passiveSalaryYear","innerHTML","salaryArr","saveSalaryMonth","capital","passiveSalary","postponned","percents","resultArr","year","push","$35da740d59af89ba$var$calcPassiveSalary","tableNode","createElement","tbodyNode","wrapperTableNode","classList","add","appendChild","$35da740d59af89ba$var$createTable","addEventListener","event","preventDefault"],"version":3,"file":"index.374054ec.js.map"}